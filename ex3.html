<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button class="select">赤を持つ</button>
    <button class="select">緑を持つ</button>
    <button class="select">青を持つ</button>
    <button id="writeBt">書く</button>
    <p id="info"></p>
    <script>
        class ColorPen {
            constructor(color, length) {
                this.color = color;
                this.length = length;
            }

            write() {
                let msg = "";
                if (this.length <= 0) {
                    msg = "もう書けません！";
                } else {
                    this.length -= 0.5;
                    msg = `${this.color}で書いた。残りの長さ${this.length}`;
                }
                return msg;
            }
        }

        //select属性の3つすべてを配列として受け取る
        const bts = document.querySelectorAll(".select");
        //const bts = document.getElementsByClassName("select");
        let pens = [
            new ColorPen("赤", 10),
            new ColorPen("緑", 10),
            new ColorPen("青", 10),
        ];
        let pen = null;
        //const info = document.querySelector("#info");  
        //↑ cssでidは#つけるからここでも#つける
        const info = document.getElementById("info");
        for (let i = 0; i < bts.length; i++) {
            //clickされたときの挙動
            bts[i].addEventListener("click", () => {
                pen = pens[i];
                info.textContent = pen.color + "を持った。";
            });
        }
        const writeBt = document.getElementById("writeBt");
        writeBt.addEventListener("click", () => {
            let msg = "";
            if (pen == null) {
                msg = "ペンを持ってください！";
            } else {
                msg = pen.write();
            }
            info.textContent = msg;
        });
    </script>

</body>

</html>