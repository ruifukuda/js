<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <table id="table" border="1"></table>
    <script>
        window.onload = () => {
            const table = document.getElementById("table");
            for (let i = 1; i <= 9; i++) {
                const tr = document.createElement("tr");
                for (let j = 1; j <= 9; j++) {
                    const td = document.createElement("td");
                    //jsは勝手にプロパティ追加できる
                    td.textContent = `${i}x${j}=`;
                    td.x = i;
                    td.y = j;
                    td.ans = i * j;
                    td.addEventListener("mouseenter", () => {
                        td.style.textDecoration = "underline";
                    });
                    td.addEventListener("mouseleave", () => {
                        td.style.textDecoration = "none";
                    });
                    td.addEventListener("click", () => {
                        const userAns = window.prompt(`${td.x}x${td.y}=`);
                        if (td.ans === parseInt(userAns)) {
                            td.style.backgroundColor = "lightgreen";
                            td.textContent += td.ans;
                        } else {
                            td.style.backgroundColor = "pink";
                        }
                    });
                    tr.appendChild(td);
                }
                table.appendChild(tr);
            }
        };
    </script>

</body>

</html>